@page "/tests/datagrid/data/in-memory"
@using BricksHoarder.Abstraction
@using BricksHoarder.Abstraction.WishListService
<Row>
    <Column>
        <Card Margin="Margin.Is4.OnY">
            <CardHeader>
                <Div Flex="Flex.JustifyContent.Between">
                    <Span>Wish list</Span>
                    <Button Color="Color.Primary" Clicked="OnAddButtonClicked"><Icon Name="IconName.Add"/></Button>
                </Div>
            </CardHeader>
            <CardBody>
                <DataGrid TItem="WishListDetails" Data="Items" PageSize="100" ShowPager Sortable="false">
                    <DataGridColumns>
                        <DataGridColumn TItem="WishListDetails" Field="@nameof(WishListDetails.SetNumber)" Caption="Set Number" Filterable="true"/>
                        <DataGridColumn TItem="WishListDetails" Field="@nameof(WishListDetails.LegoUrl)" Caption="Lego">
                            <DisplayTemplate>
                                <Anchor To="@context.LegoUrl" Target="Target.Blank">Link</Anchor>
                            </DisplayTemplate>
                        </DataGridColumn>
                        <DataGridColumn TItem="WishListDetails" Field="@nameof(WishListDetails.PromoKlockiUrl)" Caption="PromoKlocki">
                            <DisplayTemplate>
                                <Anchor To="@context.PromoKlockiUrl" Target="Target.Blank">Link</Anchor>
                            </DisplayTemplate>
                        </DataGridColumn>
                        <DataGridColumn TItem="WishListDetails" Field="@nameof(WishListDetails.BrickEconomyUrl)" Caption="Brick Economy">
                            <DisplayTemplate>
                                <Anchor To="@context.BrickEconomyUrl" Target="Target.Blank">Link</Anchor>
                            </DisplayTemplate>
                        </DataGridColumn>
                        <DataGridColumn TItem="WishListDetails" Field="@nameof(WishListDetails.OlxUrl)" Caption="Olx">
                            <DisplayTemplate>
                                <Anchor To="@context.OlxUrl" Target="Target.Blank">Link</Anchor>
                            </DisplayTemplate>
                        </DataGridColumn>
                    </DataGridColumns>

                </DataGrid>
                @*<DataGrid TItem="Employee"
                          Data="inMemoryData"
                          ShowPager
                          ShowPageSizes>
                    <DataGridColumns>
                        <DataGridColumn TextAlignment="TextAlignment.Center" TItem="Employee" Field="@nameof( Employee.Id )" Caption="#" Width="60px" />
                        <DataGridColumn TItem="Employee" Field="@nameof( Employee.FirstName )" Caption="First Name">
                        </DataGridColumn>
                        <DataGridColumn TItem="Employee" Field="@nameof( Employee.LastName )" Caption="Last Name" />
                        <DataGridColumn TItem="Employee" Field="@nameof( Employee.Email )" Caption="Email" />
                        <DataGridColumn TItem="Employee" Field="@nameof( Employee.City )" Caption="City">
                            <CaptionTemplate>
                                <Icon Name="IconName.City" /> @context.Caption
                            </CaptionTemplate>
                        </DataGridColumn>
                        <DataGridColumn TItem="Employee" Field="@nameof( Employee.Zip )" Caption="Zip">
                        </DataGridColumn>
                        <DataGridDateColumn TItem="Employee" Field="@nameof( Employee.DateOfBirth )" DisplayFormat="{0:dd.MM.yyyy}" Caption="Date Of Birth" Editable />
                        <DataGridNumericColumn TItem="Employee" Field="@nameof( Employee.Childrens )" Caption="Childrens" Editable Filterable="false" />
                        <DataGridSelectColumn TItem="Employee" Field="@nameof( Employee.Gender )" Caption="Gender" Editable>
                            <DisplayTemplate>
                                @{
                                    var gender = ( context as Employee )?.Gender;

                                    @if ( gender == "M" )
                                    {
                                        @("Male")
                                    }
                                    else if ( gender == "F" )
                                    {
                                        @("Female")
                                    }
                                    else if ( gender == "D" )
                                    {
                                        @("Diverse")
                                    }
                                }
                            </DisplayTemplate>
                        </DataGridSelectColumn>
                        <DataGridColumn TItem="Employee" Field="@nameof( Employee.Salary )" Caption="Salary" Editable Width="140px" DisplayFormat="{0:C}" DisplayFormatProvider="@System.Globalization.CultureInfo.GetCultureInfo("fr-FR")" TextAlignment="TextAlignment.End">
                        </DataGridColumn>
                        <DataGridCheckColumn TItem="Employee" Field="@nameof(Employee.IsActive)" Caption="Active" Editable Filterable="false">
                            <DisplayTemplate>
                                <Check TValue="bool" Checked="context.IsActive" Disabled ReadOnly />
                            </DisplayTemplate>
                        </DataGridCheckColumn>
                    </DataGridColumns>
                </DataGrid>*@
            </CardBody>
        </Card>
    </Column>
</Row>
<AddToWishListModal @bind-Visible="addToWishListModalVisible"></AddToWishListModal>

@code {

    private bool addToWishListModalVisible;

    [Parameter]
    public IReadOnlyList<WishListDetails> Items { get; set; } 

    public void OnAddButtonClicked()
    {
        addToWishListModalVisible = true;
    }
}